<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="TACM.UI.Pages.ShowPicturesToMemorizePage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:TACM.UI.Pages"
    xmlns:system="clr-namespace:System;assembly=netstandard"
    Padding="{StaticResource ContentPagePadding}"
    NavigationPage.HasNavigationBar="False"
    BackgroundImageSource="{StaticResource BackgroundImage}">

    <Border
        Margin="0"
        Padding="0"
        BackgroundColor="{StaticResource DefaultTransparentBackGround}"
        Stroke="{StaticResource DefaultBorderColor}"
        StrokeShape="RoundRectangle 20,20">

        <!--<StackLayout
            Padding="10"
            HorizontalOptions="FillAndExpand"
            Orientation="Vertical"
            VerticalOptions="FillAndExpand"
            ZIndex="0">

            <Grid
                ColumnDefinitions="*"
                RowDefinitions="*, 50"
                RowSpacing="5"
                VerticalOptions="FillAndExpand">

                --><!--<Border
                    Grid.Row="0"
                    Grid.Column="0"
                    Margin="60,30,60,60"
                    Padding="30"
                    BackgroundColor="{StaticResource MainPageButtonsBackground}"
                    HorizontalOptions="FillAndExpand"
                    Stroke="White"
                    StrokeShape="RoundRectangle 20,20"
                    VerticalOptions="Center">--><!--
                <Label
                     FontSize="25"
                     HorizontalOptions="Fill"
                     HorizontalTextAlignment="Center"
                     VerticalOptions="End" IsVisible="{Binding ShowStartText}"> 

                            <Label.FormattedText>
                                <FormattedString x:Name="LabelTestIntrodingFormattedStringMessage">
                                    <Span Text="You will be shown 25 words one at a time for 3 seconds. Try to remember each one. " TextColor="White" />
                                    <Span Text="{x:Static system:Environment.NewLine}" TextColor="White" />
                                    <Span Text="After you see all 25, you will be asked to identify them among other words. " TextColor="White" />
                                    <Span Text="{x:Static system:Environment.NewLine}" TextColor="White" />
                                    <Span Text="Click " TextColor="White" />
                                    <Span
                             FontAttributes="Bold"
                             Text="START "
                             TextColor="LightSkyBlue" />
                                    <Span Text="to begin. " TextColor="White" />
                                </FormattedString>
                            </Label.FormattedText>      
                </Label>
                <ImageButton
                        Padding="25,25,25,25"
                        HorizontalOptions="Fill"
                        IsVisible="{Binding CanShowPic}"
                        Source="{Binding CurrentImageSource}" Opacity="1" InputTransparent="True" />
                        
                --><!--</Border>--><!--

                <Button
                    x:Name="btnNext"
                    Grid.Row="1"
                    Grid.Column="0"
                    BackgroundColor="{StaticResource DefaultButtonBackground}"
                    Clicked="btnNext_Clicked"
                    ContentLayout="Right,25"
                    HeightRequest="50"
                    ImageSource="{StaticResource DefaultButtonIconImage}"
                    IsVisible="{Binding CanShowButtonNext}"
                    Text="Next"
                    WidthRequest="200" />
            </Grid>
        </StackLayout>-->
        <StackLayout
                Padding="10"
                HorizontalOptions="FillAndExpand"
                VerticalOptions="CenterAndExpand"
                Spacing="20">
            <ImageButton
                IsVisible="{Binding CanShowPic}"
                Source="{Binding CurrentImageSource}"
                Padding="25"
                HorizontalOptions="Fill"
                Aspect="AspectFit"  
                HeightRequest="300"
                Opacity="1"
                InputTransparent="True" />

            <!-- Label: Shown when CanShowPic = false -->
            <Label
    IsVisible="{Binding ShowStartText}"
    TextColor="White"
    FontSize="25"
    HorizontalOptions="Center"
    HorizontalTextAlignment="Center"
    VerticalOptions="Center">
                <Label.FormattedText>
                    <FormattedString x:Name="LabelTestIntrodingFormattedStringMessage">
                        <Span Text="Press the " TextColor="White" />
                        <Span
                            FontAttributes="Bold"
                            Text="Next "
                            TextColor="LightSkyBlue" />
                        <Span Text="button below to start the test." TextColor="White" />
                    </FormattedString>
                </Label.FormattedText>
            </Label>

            <!-- Button: Shown when CanShowPic = false -->
            <Button
    IsVisible="{Binding CanShowButtonNext}"
    Text="Next"
    Clicked="btnNext_Clicked"
    BackgroundColor="{StaticResource DefaultButtonBackground}"
    HorizontalOptions="Center"
    WidthRequest="200"
    HeightRequest="50" />
        </StackLayout>

    </Border>
</ContentPage>